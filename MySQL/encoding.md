# mysql 이모티콘 저장 실패

## 1. 문제
게시판의 제목, 본문 등 이모티콘 저장이 필요한 테이블에 저장을 시도할 때, 저장에 실패

## 2. 원인
table의 character set이 `utf8`로 설정되어 있었음.
- `utf8mb4`로 설정되어 있어야 이모티콘 저장 가능
### 2.1. 유니코드?
전 세계의 모든 문자를 컴퓨터에서 일관되게 표현하고 다룰 수 있도록 설계된 산업 표준
- 이를 이용해 각 나라의 언어를 컴퓨터 상에서 일관된 방식으로 다룰 수 있음.
### 2.2. utf-8
`유니코드 값을 어떻게 컴퓨터에 저장할 것인가`에 대한 표준 변환 방식
- 가변 인코딩 방식을 채택해 유니코드 값을 저장
  - 가변 인코딩: 글자마다 byte의 길이를 다르게 저장한다.
### 2.3. utf8 vs utfmb4
mysql의 utf8은 3byte 가변 자료형. 최근에 나온 4byte 문자열(이모티콘)이 mysql의 utf8 자료형에 저장될 경우 손실되는 현상이 발생
- 위 문제를 해결하기 위해 4byte 문자열도 저장할 수 있는 자료형이 utfmb4

## 3. 해결
자료형을 변경하면 된다!
```sql
ALTER TABLE 테이블명
	CONVERT TO CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
```